### 基础库 {#基础库}

### 基础库与客户端之间的关系 {#基础库与客户端之间的关系}

小程序的能力需要微信客户端来支撑，每一个基础库都只能在对应的客户端版本上运行，高版本的基础库无法兼容低版本的微信客户端。

关于基础库的兼容方法，可以查看「[兼容处理](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/compatibility.html)」章节。

### 基础库更新时机 {#基础库更新时机}

为了避免新版本的基础库给线上小程序带来未知的影响，微信客户端都是携带**上一个稳定版**的基础库发布的。

在新版本客户端发布后，我们再通过后台灰度新版本基础库，灰度时长一般为 12 小时，在灰度结束后，用户设备上才会有新版本的基础库。

以微信 6.5.8 为例，客户端在发布时携带的是 1.1.1 基础库\(6.5.7 上已全量的稳定版\)发布，在 6.5.8 发布后，我们再通过后台灰度 1.2.0 基础库。

### 基础库版本分布 {#基础库版本分布}

#### iOS {#ios}

| 基础库版本 | 用户占比 |
| :--- | :--- |
| 1.2.4 | 59.75% |
| 1.2.3 | 0.00% |
| 1.2.2 | 24.19% |
| 1.2.1 | 0.00% |
| 1.2.0 | 0.00% |
| 1.1.1 | 10.95% |
| 1.1.0 | 0.00% |
| 1.0.1 | 5.10% |
| 1.0.0 | 0.00% |

\(数据截止 2017-06-06\)

#### Android {#android}

| 基础库版本 | 用户占比 |
| :--- | :--- |
| 1.2.4 | 57.53% |
| 1.2.3 | 0.01% |
| 1.2.2 | 24.74% |
| 1.2.1 | 0.00% |
| 1.2.0 | 0.00% |
| 1.1.1 | 12.90% |
| 1.1.0 | 0.00% |
| 1.0.1 | 2.46% |
| 1.0.0 | 2.36% |

\(数据截止 2017-06-06\)

